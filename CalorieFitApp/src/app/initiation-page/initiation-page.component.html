<div class="main-container d-flex flex-column justify-content-center align-items-center">
  <div *ngIf="step === 1" class="question-container text-center">
    <h2 class="text-purple">Choose Your Fitness Goal</h2>
    <div class="button-group">
      <button class="btn btn-purple btn-lg" (click)="selectGoal('weight loss')">Weight Loss</button>
      <button class="btn btn-purple btn-lg" (click)="selectGoal('weight gain')">Weight Gain</button>
      <button class="btn btn-purple btn-lg" (click)="selectGoal('weight maintenance')">Weight Maintenance</button>
    </div>
  </div>

  <div *ngIf="step === 2" class="question-container text-center">
    <h2 class="text-purple">Select Your Gender</h2>
    <div class="button-group">
      <button class="btn btn-purple btn-lg" (click)="selectGender('male')">Male</button>
      <button class="btn btn-purple btn-lg" (click)="selectGender('female')">Female</button>
    </div>
  </div>

  <div *ngIf="step === 3" class="question-container text-center">
    <h2 class="text-purple">How Often Can You Work Out?</h2>
    <div class="button-group">
      <button class="btn btn-purple btn-lg" (click)="selectWeeklyAvailability('once a week')">Once a week</button>
      <button class="btn btn-purple btn-lg" (click)="selectWeeklyAvailability('three days a week')">Three days a week</button>
      <button class="btn btn-purple btn-lg" (click)="selectWeeklyAvailability('four days a week')">Four days a week</button>
      <button class="btn btn-purple btn-lg" (click)="selectWeeklyAvailability('six days a week')">Six days a week</button>
    </div>
  </div>

  <div *ngIf="step === 4" class="question-container text-center">
    <h2 class="text-purple">Enter Your Vital Statistics</h2>
    <form (ngSubmit)="submitForm()" class="d-flex flex-column align-items-center" #form="ngForm">
      <div class="form-group">
        <input
          type="number"
          id="age"
          [(ngModel)]="age"
          name="age"
          required
          min="1"
          max="100"
          placeholder="Enter your age (1-100)"
          class="form-control"
          #ageInput="ngModel"
        />
        <div *ngIf="ageInput.invalid && (ageInput.dirty || ageInput.touched)" class="error-message">
          <span *ngIf="ageInput.errors?.['required']">Age is required.</span>
          <span *ngIf="ageInput.errors?.['min'] || ageInput.errors?.['max']">Age must be between 1 and 100.</span>
        </div>
      </div>

      <div class="form-group">
        <input
          type="number"
          id="weight"
          [(ngModel)]="weight"
          name="weight"
          required
          min="20"
          max="700"
          placeholder="Enter your weight in KGs (20 - 700)"
          class="form-control"
          #weightInput="ngModel"
        />
        <div *ngIf="weightInput.invalid && (weightInput.dirty || weightInput.touched)" class="error-message">
          <span *ngIf="weightInput.errors?.['required']">Weight is required.</span>
          <span *ngIf="weightInput.errors?.['min'] || weightInput.errors?.['max']">Weight must be between 20 and 700 KGs.</span>
        </div>
      </div>

      <div class="form-group">
        <input
          type="number"
          id="height"
          [(ngModel)]="height"
          name="height"
          required
          min="50"
          max="300"
          placeholder="Enter your height in Centimeters (50 - 300)"
          class="form-control"
          #heightInput="ngModel"
        />
        <div *ngIf="heightInput.invalid && (heightInput.dirty || heightInput.touched)" class="error-message">
          <span *ngIf="heightInput.errors?.['required']">Height is required.</span>
          <span *ngIf="heightInput.errors?.['min'] || heightInput.errors?.['max']">Height must be between 50 and 300 cm.</span>
        </div>
      </div>

      <button type="submit" class="btn btn-purple btn-lg" [disabled]="form.invalid">Submit</button>
    </form>
  </div>

  <div *ngIf="step > 4" class="question-container text-center">
    <h2 class="text-purple">Your Results</h2>
    <p class="result-text">Daily Caloric Expenditure: {{ dailyCaloricExpenditure }} kcal/day</p>
    <p class="result-text">Daily Protein Intake: {{ dailyProteinIntake }} grams</p>
    <p class="result-text">Daily Carbohydrate Intake: {{ dailyCarbIntake }} grams</p>
  </div>
</div>
